<!DOCTYPE html>

<html>

  <head>
      <link href="https://fonts.googleapis.com/css?family=Hepta+Slab:400|Roboto:300|Staatliches&display=swap" rel="stylesheet">
      <link href="assembly_c.css" rel="stylesheet">

      <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/jquery.ScrollMagic.min.js" integrity="sha512-f031btWm661Twvo3JQ18X5z8epjTu5K4eNcOOYNJs3AKU0wOTGnY1mjXUmfsTJ96lYggbyIg9vdJ7nbjdddtvQ==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/animation.velocity.min.js" integrity="sha512-6Fw+pSuqmag+yYx0kMzlwVBy51GAIXyT1S4B0l5yRs+ku5LLKD/kfCOLA9Rer2Y/iBNAoPEiexwlsKKFChhk7Q==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/animation.gsap.min.js" integrity="sha512-A98SmLRZISk4eIxQBeCm8k0jAcwN3A3lBx4hr7baoMpV1VpxcxlZIhi5fJIZN50sQ5RlCzx8yV+Voy2cR6x0aA==" crossorigin="anonymous"></script>
      <script src="assembly_c.js"></script>

  </head>

  <body>
    <section class='header'>

      <div id='content'>
          <h1>Translating Assembly to C </h1>
          <p>
          Following, examples of some of the assembly code I translated for a Computer Science architecture class.
          </p>

      </div>

    </section>

    <section class = 'floating'>

      <div class="lang_">
            ASSEMBLY
      </div>
      <div class="lang_">
               C
      </div>

    </section>

    <section class='translate'>
      
      <div class='translate left'>
        <div class='centered'>
          <p>
            <code id='assembly_code' style="display:contents">
                  Dump of assembler code for function func4:</br>
                  0x0000000000400fd2 <+0>: push %rbx</br>
                  0x0000000000400fd3 <+1>: mov %edx, %eax</br>
                  0x0000000000400fd5 <+3>: sub %esi, %eax</br>
                  0x0000000000400fd7 <+5>: mov %eax, %ebx</br>
                  0x0000000000400fd9 <+7>: shr %0x1f, %ebx</br>
                  0x0000000000400fdc <+10>: add %ebx, %eax</br>
                  0x0000000000400fde <+12>: sar %eax</br>
                  0x0000000000400fe0 <+14>: lea (%rax,%rsi,1), %ebx</br>
                  0x0000000000400fe3 <+17>: cmp %edi, %ebx</br>
                  0x0000000000400fe5 <+19>: jle 0x400ff3 <func4+33></br>
                  0x0000000000400fe7 <+21>: lea -0x1(%rbx), %edx</br>

                  0x0000000000400fea <+24>: callq 0x400fd2 <func4></br>
                  0x0000000000400fef <+29>: add %ebx, %eax</br>
                  0x0000000000400ff1 <+31>: jmp 0x401003 <func4+49></br>
                  0x0000000000400ff3 <+33>: mov %ebx, %eax</br>
                  0x0000000000400ff5 <+35>: cmp %edi, %ebx</br>
                  0x0000000000400ff7 <+37>: jge 0x401003 <func4+49></br>
                  0x0000000000400ff9 <+39>: lea 0x1(%rbx), %esi</br>
                  0x0000000000400ffc <+42>: callq 0x400fd2 <func4></br>
                  0x0000000000401001 <+47>: add %ebx, %eax</br>
                  0x0000000000401003 <+49>: pop %rbx</br>
                  0x0000000000401004 <+50>: retq </br></br></br></br></br> <!--This will be replaced correcting the style -->
            </code>
          </p>
    
          <p>
              <code id='c_code' style="display:contents">
                    #include <stdio.h>

                      int func4(int a, int b, int c) {</br>
                      int x = c - b;</br>
                      int y = x >> 0x1f;</br>
                          x += y;</br>
                          x >>=1;</br>
                          y = b + x;</br>
                          if (y <= a){</br>
                              
                              if(y>=a) return y;</br>
                              
                              else return func4(a,y+1,c) + y;</br>
                      
                          }else{return func4(a,b,y-1) + y;}</br>
                      }</br>
                      int main(){</br>
                      
                          int a,b,c;</br>
                      
                          printf("Enter three values\n");</br>
                          scanf("%d %d %d", &a, &b, &c);</br>
                      
                          printf("%d", func4(a,b,c));</br>
                      }
              </code>

          </p>
        </div>
      </div>

    </section>

    <section class = 'footer'> 
          <p>The code on assembly correspond to a function part of the <strong>phase 4</strong> of a project for an architecture class, <strong>binary bomb</strong>,
            which objective was to go through all the phases without exploding the bomb. </br></br>
            
            It was necessary to understand what was happening in the code to be able to extract hidden numbers to go the next phase.</br></br>

            This was a really fun project, probably will do it again another time, just to keep my assembly up to date, while having some fun.
          </p>   
    </section>
  </body>

</html>